# Shopster Ecommerce Platform Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control - it contains sensitive information

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database (User Store Service - Port 8081)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=shopster_users
POSTGRES_USER=shopster_admin
POSTGRES_PASSWORD=your_secure_postgres_password
POSTGRES_URL=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# MongoDB Database (Product Store Service - Port 8082)
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DB=shopster_products
MONGODB_USER=shopster_admin
MONGODB_PASSWORD=your_secure_mongodb_password
MONGODB_URI=mongodb://${MONGODB_USER}:${MONGODB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/${MONGODB_DB}?authSource=admin

# Test Database (H2 - for development/testing only)
H2_DATABASE_URL=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
H2_DATABASE_USER=sa
H2_DATABASE_PASSWORD=

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Frontend React Application
REACT_APP_API_BASE_URL=http://localhost:8080/api/v1
REACT_APP_ENVIRONMENT=development
REACT_APP_VERSION=1.0.0

# Spring Boot Orchestration Layer (BFF)
SERVER_PORT=8080
SPRING_PROFILES_ACTIVE=development

# User Store Service
USER_STORE_BASE_URL=http://localhost:8081
USER_STORE_TIMEOUT=5000

# Product Store Service  
PRODUCT_STORE_BASE_URL=http://localhost:8082
PRODUCT_STORE_TIMEOUT=5000

# Future Membership Service
MEMBERSHIP_STORE_BASE_URL=http://localhost:8083
MEMBERSHIP_STORE_TIMEOUT=5000

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET=your_256_bit_secret_key_replace_with_actual_secret
JWT_EXPIRATION=3600000
JWT_REFRESH_EXPIRATION=86400000

# Session Configuration
SESSION_TIMEOUT=1800
SESSION_SECRET=your_session_secret_key_replace_with_actual

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# EXTERNAL SERVICES & APIS
# =============================================================================

# GitHub API (for repository operations via MCP)
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_USERNAME=your_github_username
GITHUB_REPOSITORY=your_repo_name

# Email Service (for notifications, password reset)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password
FROM_EMAIL=noreply@shopster.com

# Content Delivery Network (for product images)
CDN_BASE_URL=https://cdn.shopster.com
CDN_ACCESS_KEY=your_cdn_access_key
CDN_SECRET_KEY=your_cdn_secret_key

# Payment Processing (future integration)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Application Monitoring
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/shopster/application.log
LOG_MAX_SIZE=10MB
LOG_MAX_HISTORY=30

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/actuator/metrics
PROMETHEUS_ENABLED=true

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Flags
DEBUG_MODE=true
MOCK_EXTERNAL_SERVICES=false
ENABLE_SWAGGER_UI=true

# Test Configuration
TEST_DATABASE_URL=jdbc:h2:mem:testdb
TEST_JWT_SECRET=test_secret_key_for_testing_only
TEST_TIMEOUT=10000

# Visual Testing
PLAYWRIGHT_BASE_URL=http://localhost:3000
PLAYWRIGHT_TIMEOUT=30000
SCREENSHOT_DIR=/.claude/frontend_screenshot_testing

# =============================================================================
# DOCKER & CONTAINERIZATION
# =============================================================================

# Docker Configuration
DOCKER_NETWORK=shopster-network
DOCKER_COMPOSE_PROJECT_NAME=shopster

# Container Resource Limits
BACKEND_MEMORY_LIMIT=512m
FRONTEND_MEMORY_LIMIT=256m
DATABASE_MEMORY_LIMIT=1g

# =============================================================================
# REDIS CONFIGURATION (Future)
# =============================================================================

# Redis Cache (for session storage and API caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_TIMEOUT=5000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
FEATURE_USER_REGISTRATION=true
FEATURE_PRODUCT_REVIEWS=true
FEATURE_MEMBERSHIP_PROGRAM=false
FEATURE_ADVANCED_SEARCH=true
FEATURE_SOCIAL_LOGIN=false

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================

# Set to 'development', 'staging', or 'production'
NODE_ENV=development
SPRING_PROFILES_ACTIVE=development

# Production-specific (uncomment when deploying)
# SPRING_PROFILES_ACTIVE=production
# LOG_LEVEL=WARN
# DEBUG_MODE=false
# ENABLE_SWAGGER_UI=false